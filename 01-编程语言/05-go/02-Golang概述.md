# Golang 概述

## 什么是程序？

程序：就是完成某个功能的指令的集合（为了让计算机执行某些操作或解决某个问题而编写的一系列有序指令的集合）。

## Why is Go 语言？

Go 语言是区块链最主流的编程语言，同时也是当前最具发展潜力的语言。

Go 语言是 Google 公司创造的语言，也是 Google 主推的语言。

国外如 Google、AWS、Cloudflare、CoreOS 等，国内如七牛、阿里、小米、京东等都已经开始大规模使用 Golang 开发其云计算相关产品。

谁先占领了先机，谁就拥有更多机会。

## Go 语言诞生小故事

- Go 语言的核心开发团队
  - Ken Thompson(肯·汤普森)：1983年图灵奖(Turing Award)和1998年美国国家技术奖(National Medal of Technology)得主。他与 Dennis Ritchie 是 Unix 的原创者。Thompson 也发明了后来衍生出 C 语言的 B 程序语言，同时也是 C 语言的主要发明人。
  - Rob PIke(罗布·派克)：曾是贝尔实验室(Bell Labs)的 Unix 团队，和 Plan 9 操作系统计划的成员。他与 Thompson  共事多年，并共创出广泛使用的 UTF-8 字元编码。
  - Robert Griesemer：曾协助制作 Java 的 HotSpot 编译器，和 Chrome 浏览器的 JavaScript 引擎 V8。
- Google 为什么要创造 Go 语言？
  - 计算机硬件技术更新频繁，性能提高很快。目前主流的编程语言发展明显落后于硬件，不能合理利用多核 CPU 的优势提升软件系统性能。
  - 软件系统复杂度越来越高，维护成本越来越高，目前缺乏一个足够简洁高效的编程语言。【现有的编程语言：1. 风格不统一；2. 计算能力不够；3. 处理大并发不够好】
  - 企业运行维护很多 C/C++ 项目，C/C++ 程序运行速度虽然快，但是编译速度却很慢，同时还存在内存泄漏的一系列的困扰需要解决。
- Go 语言发展简史
  - 2007年，谷歌工程师 Rob Pike，Ken Thompson 和 Robert Griesemer 开始设计一门全新的语言，这是 Go 语言的最初原型。
  - 2009年11月10日，Google 将 Go 语言以开放源代码的方式向全球发布。
  - 2015年8月19日，Go 1.5 版发布，本次更新中移除了"最后残余的 C 代码"。
  - 2017年2月17日，Go 语言 1.8 版发布。
  - 2017年8月24日，Go 语言 1.9 版发布。
  - 2018年2月16日，Go 语言 1.10 版发布。

## Go 语言的特点

Go 语言保证了既能达到静态编译语言的安全和性能，又能达到动态语言开发维护的高效率。使用一个表达式来形容 Go 语言：Go = C + Python，说明 Go 语言既有 C 静态语言程序的运行速度，又能达到 Python 动态语言的快速开发。

1)  从 C 语言中继承了很多理念，包括表达式语法、控制结构、基础数据类型、调用参数传值、指针等等，也保留了和 C 语言一样的编译执行方式及弱化的指针。

示例如下：

```go
// Go 语言指针的使用特点(体验)
func testPtr(num *int) {
  *num = 20
}
```

2) 引入包的概念，用于组织程序结构，Go 语言的一个文件都要归属于一个包，而不能单独存在。

示例如下：

```go
// 一个 go 文件需要在一个包中，没有包信息，会编译报错
package main

// 测试方法用到了 "fmt" 包，需要引入，不引入也会编译报错
import "fmt"

func sayOK() {
  fmt.println("OK")
}
```

3) 垃圾回收机制，内存自动回收，不需开发人员管理。

4) 天然并发：

​    1) 从语言层面支持并发，实现简单。

​	2) goroutine，轻量级线程，可实现大并发处理，高效利用多核。

​	3) 基于 CPS 并发模型(Communicating Sequential Process)实现。

5) 吸收了管道通信机制，形成 Go 语言特有的管道 channel。通过管道 channel，可以实现不同的 goroute 之间的相互通信。

6) 函数返回多个值。

示例如下：

```go
// 同时返回和与差，go 函数支持返回多个值
func getSumAndSub(n1 int, n2 int) (int, int) {
  // go 语句后面不需要带分号，go 的编译器会自动帮语句带上分号
  sum := n1 + n2
  sub := n1 - n2
  return sum, sub
}
```

7) 新的创新：比如切片 slice、延时执行 defer 等。